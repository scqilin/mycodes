<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>链表</title>
</head>
<body>
<script type="text/javascript">
    function LinkedList() {
        let Node = function (element) {
            this.element = element;
            this.next = null;
        };

        let length = 0;
        let head = null;

        this.append = function (element) {
            let node = new Node(element);
            let current;

            if(head === null){
                head = node;
            }else{
                current = head;
                while(current.next){
                    current = current.next;
                }
                current.next = node;
            }

            length ++;
        };
        this.insert = function (position,element) {
            if(position >= 0 && position <= length){
                let node = new Node(element),
                    current = head,
                    previous,
                    index = 0;
                if(position === 0){
                    node.next = current;
                    head = node;
                }else{
                    while (index++ < position){
                        previous = current;
                        current = current.next;
                    }
                    node.next = current;
                    previous.next = node;
                }
                length ++;
                return true;
            }else {
                return false;
            }
        };
        this.removeAt = function (position) {
            if(position > -1 && position < length){
                let current = head,
                    previous,
                    index = 0;
                if(position === 0){
                    head = current.next;
                }else{
                    while(index++<position){
                        previous = current;
                        current = current.next;
                    }
                    previous.next = current.next;
                }
                length --;
                return current.element;
            }else{
                return null;
            }
        };
        this.toString = function () {
            let current = head;
            let string = '';
            while(current){
                string += current.element +(current.next ? ',' : '');
                current = current.next;
            }
            return string;
        };
        this.indexOf = function (element) {
            let current = head,
                index = 0;
            while(current){
                if(element === current.element){
                    return index;
                }
                index ++;
                current = current.next;
            }
            return -1;
        };
        this.remove = function (element) {
            let index = this.indexOf(element);
            return this.removeAt(index);
        };
        this.isEmpty = function () {
            return length === 0;
        };
        this.size = function () {
            return length;
        }
        this.getHead = function () {
            return head;
        }

    }
    let list = new LinkedList();
    list.append(12);
    list.append(19);
    list.append(14);
    console.log(list.indexOf(19));
    console.log(list.toString());
    list.removeAt(0);
    console.log(list.toString());
    list.insert(2,10);
    list.insert(1,110);
    console.log(list.toString());
    console.log(list.indexOf(19));
    console.log(list.isEmpty());
    console.log(list.size());
    console.log(list.getHead());
    console.log(list.remove(191));
    console.log(list.toString());
</script>
</body>
</html>